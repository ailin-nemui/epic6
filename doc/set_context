How ircII/EPIC routes output

EPIC is an event-driven callback looper.  It receives data from
sources and then fires off events to "handle" them.  The user 
is not responsible for keeping track of the metadata around input,
so you can just /echo stuff and the client will send it to the
correct window.  The metadata around this is called "context"

ON CONTEXT
=============================================================================
The new /ON CONTEXT hook is set every time a new context is established.
The only officially supported operation in /on context is /ssh, which 
sets the "suppress display" flag for the lifetime or that context.
This is useful for implementing /ignore type functionality.

	$0	The server (usually from_server)
	$1	The window override (usually -1 meaning "no override")
	$2	The sender (could be "*" meaning "no sender")
	$3	The target (could be "*" meaning "no target")
	$4	The level 

Context
==============================================================================
"Context" tracks this information:
	1. Who sent the data ("sender")
	2. Who the data was sent to ("target")
	3. The "level" of the data
	4. What IRC server it was associated with (optional)
	5. An explicit Window override (optional)

Let's unpack each of these

Who sent the data
------------------
For things you receive from irc, it is a nick!user@host or server.name
For things you receive from /exec, it is the /exec's name or refnum
For things you send to irc, it is "*"
For things generated by the client itself, it is "*"
   "*" just means "this field is not used for display routing"

Who received the data
----------------------
For things you receive from irc sent directly to your nick, it is "*"
For things that were sent to a channel, it is the channel's name
For things that were sent to a "group", it is the group

The level of the data
---------------------
I'm assuming you're familiar with output levels.
The level of everything is OTHER unless there is a reason for it not to be.

What IRC server is was associated with (optional)
--------------------------------------------------
This is a placeholder, and is subject to change
This is usually "from_server", or -1

An explicit Window override (optional)
--------------------------------------
This is only used when output is being explicitly sent to a window.
This is used by /WINDOW, /EXEC -WINDOW, and /XECHO -W
This is always -1 ("i don't know") unless there is a reason for it not to be.


Echo Routing
==============================================================================
For each /echo (internally or in a script), what window should this go to?

This is decided in add_to_screen(), which is the chokepoint for all output 
in the client.  It uses this algorithm [subject to change]

====================
-- An aside -- Each server has its own collection of 1 or more windows, 
   and the server distributes all the levels to its window(s).  For all
   the rules below, only windows connected to the current server are 
   considered, unless specified otherwise.
===================

All of these rules are "fallthrough", meaning if a condition does not apply,
it will move on to the next rule:
---
1. If a window override is set, (above), send it there
2. If level NONE, send to the current server's current window ("CSCW")
3. If channel message, send to the channel's window
4. If query message, send to the query's window
5. If covered by /SET CURRENT_WINDOW_LEVEL, send to CSCW
6. If any window claims level, the level's window
7. If current input window ("CIW") connected to server, the CIW
8. Any window connected to the server
9. The CIW



